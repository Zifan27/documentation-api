summary: Scan a template file
description: Validates and scans the resources found in the template against a set of
  Conformity's rules
requestBody:
  required: true
  content:
    application/json:
      schema:
        oneOf:
          - $ref: ./request-body/no-account-or-profile.yml
          - $ref: ./request-body/with-account.yml
          - $ref: ./request-body/with-profile.yml
      example:
        data:
          attributes:
            type: cloudformation-template
            contents: "---\nAWSTemplateFormatVersion: '2010-09-09'\nResources:\n  S3Bucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      AccessControl: PublicRead"
responses:
  200:
    description: 200 response
    content:
      application/json:
        schema:
          $ref: ./responses/200.yml
  401:
    description: Unauthorized. The requester user does not have enough privilege.
    content:
      application/json:
        schema:
          $ref: ../../../shared-schemas/401.yml
  403:
    description: Forbidden. This happens when a valid api key is not provided or the user does not have access to the supplied account.
    content:
      application/json:
        schema:
          oneOf:
            - $ref: ../../../shared-schemas/403.yml
            - $ref: ../../../shared-schemas/403-json-api-spec.yml
        example:
          errors:
            - status: 403
              detail: Unauthorised
  404:
    description: Not Found. The profile that was requested was not found.
    content:
      application/json:
        schema:
          $ref: ../../../shared-schemas/404-json-api-spec.yml
  500:
    description: The parsing of the template file failed
    content:
      application/json:
        schema:
          $ref: ./responses/500-could-not-process-template.yml
security:
  - Authorizer: []
