openapi: "3.0.1"
info:
  title: "Cloud Conformity"
  version: "2020-08-20T00:27:06Z"
servers:
  - url: "https://eu-west-1-api.cloudconformity.com/v1"
    description: "eu-west-1"
  - url: "https://us-west-2-api.cloudconformity.com/v1"
    description: "us-west-2"
paths:
  /accounts:
    get:
      $ref: "./accounts/get/index.yml"
    post:
      $ref: "./accounts/post/index.yml"
  /accounts/{id}:
    get:
      $ref: "./accounts/get/index.yml"
    delete:
      $ref: "./accounts/delete.yml"
    patch:
      $ref: "./accounts/{id}/patch/index.yml"
  /accounts/{id}/subscription:
    patch:
      $ref: "./accounts/{id}/subscription/patch/index.yml"
  /accounts/{id}/access:
    get:
      $ref: "./accounts/{id}/access/get/index.yml"
  /accounts/{id}/settings/rules/{ruleId}:
    get:
      $ref: "./accounts/{id}/settings/rules/{ruleId}/get/index.yml"
    patch:
      $ref: "./accounts/{id}/settings/rules/{ruleId}/patch/index.yml"
  /accounts/{id}/scan:
    post:
      $ref: "./accounts/{id}/scan/post/index.yml"
  /accounts/{id}/settings/rules:
    get:
      $ref: "./accounts/{id}/settings/rules/get/index.yml"
    patch:
      $ref: "./accounts/{id}/settings/rules/patch.yml"
  /accounts/{id}/settings/bot:
    patch:
      $ref: "./accounts/{id}/settings/bot/patch/index.yml"
  /api-keys:
    get:
      $ref: "./api-keys/get.yml"
  /api-keys/{keyId}:
    get:
      $ref: "./api-keys/{keyId}/get.yml"
  /checks:
    get:
      $ref: "./checks/get.yml"
    post:
      $ref: "./checks/post.yml"
  /checks/{checkId}:
    get:
      $ref: "./checks/{checkId}/get.yml"
  /events:
    get:
      $ref: "./events/get.yml"
  /external-ids:
    post:
      $ref: "./external-ids/post.yml"
  /groups:
    get:
      $ref: "./groups/get.yml"
    post:
      $ref: "./groups/post.yml"
  /groups/{groupId}:
    get:
      $ref: "./groups/{groupId}/get.yml"
    delete:
      $ref: "./groups/{groupId}/delete.yml"
    patch:
      $ref: "./groups/{groupId}/patch.yml"
  /iac-scanning/scan:
    post:
      $ref: "./iac-scanning/scan/post.yml"
  /organisation/external-id:
    get:
      $ref: "./organisation/external-id/get.yml"
  /profiles:
    get:
      $ref: "./profiles/get.yml"
    post:
      $ref: "./profiles/post.yml"
  /profiles/{id}:
    get:
      $ref: "./profiles/{id}/get.yml"
    delete:
      $ref: "./profiles/{id}/delete.yml"
    patch:
      $ref: "./profiles/{id}/patch.yml"
  /profiles/{id}/apply:
    post:
      $ref: "./profiles/{id}/apply/post.yml"
  /report-configs:
    get:
      $ref: "./report-configs/get.yml"
    post:
      $ref: "./report-configs/post.yml"
  /report-configs/{id}:
    get:
      $ref: "./report-configs/{id}/get.yml"
    delete:
      $ref: "./report-configs/{id}/delete.yml"
    patch:
      $ref: "./report-configs/{id}/patch.yml"
  /reports:
    get:
      $ref: "./reports/get.yml"
  /reports/{reportId}/{entityId}/{type}:
    get:
      $ref: "./reports/{reportId}/{entityId}/{type}/get.yml"
  /resources:
    get:
      $ref: "./resources/get.yml"
  /services:
    get:
      $ref: "./services/get.yml"
  /settings/{settingId}:
    get:
      $ref: "./settings/{settingId}/get.yml"
    delete:
      $ref: "./settings/{settingId}/delete.yml"
  /settings/communication:
    get:
      $ref: "./settings/communication/get.yml"
    post:
      $ref: "./settings/communication/post.yml"
  /settings/communication/{settingId}:
    patch:
      $ref: "./settings/communication/{settingId}/patch.yml"
  /template-scanner/scan:
    post:
      $ref: "./template-scanner/scan/post.yml"
  /users:
    get:
      $ref: "./users/get/index.yml"
    post:
      $ref: "./users/post/index.yml"
  /users/{id}:
    get:
      $ref: "./users/{id}/get/index.yml"
    delete:
      $ref: "./users/{id}/delete/index.yml"
    patch:
      $ref: "./users/{id}/patch/index.yml"
  /users/sso:
    post:
      $ref: "./users/sso/post/index.yml"
  /users/whoami:
    get:
      $ref: "./users/whoami/get/index.yml"

components:
  securitySchemes:
    Authorizer:
      type: "apiKey"
      name: "Authorization"
      in: "header"
      x-amazon-apigateway-authtype: "custom"